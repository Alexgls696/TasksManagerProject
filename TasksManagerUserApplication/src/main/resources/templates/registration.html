<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Регистрация</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&family=Poppins:wght@600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" th:href="@{/styles/registration.css}">
</head>
<body>
<div class="wrapper">
    <header>
        <div class="container">
            <nav>
                <ul>
                    <li><a th:href="@{/index}"><i class="fas fa-arrow-left"></i> На главную</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main class="container">
        <div class="register-card">
            <h1 class="register-title">Регистрация</h1>
            <p class="register-subtitle">Создайте аккаунт, чтобы получить доступ ко всем возможностям</p>

            <form action="/registration" method="post">
                <div class="form-group">
                    <label for="firstName" class="form-label">Имя</label>
                    <input type="text" id="firstName" class="form-control" placeholder="Введите ваше имя" required>
                </div>

                <div class="form-group">
                    <label for="lastName" class="form-label">Фамилия</label>
                    <input type="text" id="lastName" class="form-control" placeholder="Введите ваше имя" required>
                </div>

                <div class="form-group">
                    <label for="email" class="form-label">Email</label>
                    <input type="email" id="email" class="form-control" placeholder="Введите ваш email" required>
                </div>


                <div class="form-group">
                    <label for="username" class="form-label">Имя пользователя</label>
                    <input type="text" id="username" class="form-control" placeholder="Создайте пароль" required>
                </div>

                <div class="form-group">
                    <label for="password" class="form-label">Пароль</label>
                    <input type="password" id="password" class="form-control" placeholder="Создайте пароль" required>
                </div>

                <div class="form-group">
                    <label for="confirm-password" class="form-label">Подтверждение пароля</label>
                    <input type="password" id="confirm-password" class="form-control" placeholder="Повторите пароль" required>
                </div>

                <button type="button" onclick="submitForm()" class="btn btn-primary btn-block">Зарегистрироваться</button>

                <p class="form-text">
                    Уже есть аккаунт? <a href="http://localhost:8080/secutity/login">Войти</a>
                </p>
            </form>
        </div>
    </main>

    <footer>
        <div class="container">
            <p>&copy; 2025 Все права защищены</p>
        </div>
    </footer>
</div>
<script>
    function submitForm() {
        const formData = {
            username: document.getElementById('username').value,
            password: document.getElementById('password').value,
            firstName:document.getElementById('firstName').value,
            lastName:document.getElementById('lastName').value,
            email: document.getElementById('email').value
        };

        fetch('http://localhost:8080/registration', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(formData)
        })
            .then(response => response.text())
            .then(data => {
                window.location = data;
            });
    }
</script>
</body>
</html>